#!/bin/bash


export PATH USERPATH ELLIPSIS
PATH="${USERPATH:="$(
    IFS=; shopt -s nullglob
    x=(~/{,.local/}[b]in/{*/,} /[u]sr/local/opt/coreutils/libexec/gnubin/)
    echo -n "${x[*]/%?/:}"
    )${PATH}"}"
: ${ELLIPSIS:=~/.../self/}

interactive=${-//[^i]}

[[ -x $(type -p git) && -f ~/.../config && -z ${UID/#${EUID}} ]] && (
    export GIT_DIR=~/...
    _0=$(git rev-parse HEAD) &&
        git pull --quiet &&
        _1=$(git rev-parse HEAD) &&
        [[ ${_0} != ${_1} ]]; _e=${?}
    [[ ${_e} -eq 0 && -n ${interactive} ]] &&
        git diff --stat ${_0}
    exit ${_e}
    ) &&
    exec ${BASH}

[[ -n ${interactive} && -f ${ELLIPSIS}data/profile/etc/bash/interactive ]] &&
    . ${ELLIPSIS}data/profile/etc/bash/interactive
